var ue=Object.defineProperty,ce=Object.defineProperties;var ie=Object.getOwnPropertyDescriptors;var G=Object.getOwnPropertySymbols;var re=Object.prototype.hasOwnProperty,_e=Object.prototype.propertyIsEnumerable;var O=(t,a,n)=>a in t?ue(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,Q=(t,a)=>{for(var n in a||(a={}))re.call(a,n)&&O(t,n,a[n]);if(G)for(var n of G(a))_e.call(a,n)&&O(t,n,a[n]);return t},X=(t,a)=>ce(t,ie(a));import{d as E,i as _,o as c,a as d,h as f,C as j,b as e,F as k,r as D,E as Z,t as C,p as I,a3 as ee,a4 as de,a5 as se,q as M,s as V,c as K,g as B,u as te,I as q,k as z,z as P,w as x,v as b,a6 as ne,a7 as ve,j as N,a8 as pe,D as he,M as me}from"./vendor-eefdb645.js";import{_ as A,u as R,f as ge,a as oe,b as le,h as ye,i as fe,d as $e}from"./index-9c02a660.js";/* empty css              *//* empty css              */import{_ as U}from"./mss-1b94e356.js";/* empty css               */const w=t=>(M("data-v-42c814fd"),t=t(),V(),t),Ce={class:"ranklist"},Le={class:"randombox"},ke={class:"list"},Fe=["onClick"],xe={class:"randombox"},be={class:"random"},we=w(()=>e("li",null,"\u6B4C\u66F2",-1)),Be=w(()=>e("li",null,"\u6B4C\u66F2",-1)),Se=w(()=>e("li",null,"\u6B4C\u66F2",-1)),De=w(()=>e("li",null,"\u6B4C\u66F2",-1)),Ie=w(()=>e("li",null,"\u6B4C\u66F2",-1)),Ee=w(()=>e("li",null,"\u6B4C\u66F2",-1)),Ae=w(()=>e("li",null,"\u6B4C\u66F2",-1)),je=w(()=>e("li",null,"\u6B4C\u66F2",-1)),He=w(()=>e("li",null,"\u6B4C\u66F2",-1)),Te=w(()=>e("li",null,"\u6B4C\u66F2",-1)),Me=[we,Be,Se,De,Ie,Ee,Ae,je,He,Te],Ve=I(" \u5F00\u59CB "),Ne=E({props:{hot:{type:Array,default:()=>[]}},emits:["jump"],setup(t,{emit:a}){const n=_(),v=_(!1),u=_("es"),p=()=>{v.value||(v.value=!0,n.value.classList.add("ani"),setTimeout(()=>{n.value.classList.remove("ani"),v.value=!1},3e3))};return(y,$)=>{const l=ee,h=de,m=se;return c(),d("div",Ce,[f(m,{active:u.value,"onUpdate:active":$[0]||($[0]=i=>u.value=i)},{default:j(()=>[f(l,{title:"\u70ED\u641C\u699C"},{default:j(()=>[e("div",Le,[e("ul",ke,[(c(!0),d(k,null,D(t.hot,(i,o)=>(c(),d("li",{onClick:s=>a("jump",i.first)},[e("span",{style:Z({color:o<3?"#e71c34":"#b3afaf"}),class:"index"},C(o+1),5),e("span",{style:Z({color:o<3?"#000":"#b3afaf"})},C(i.first),5)],8,Fe))),256))])])]),_:1}),f(l,{title:"\u968F\u673A\u699C"},{default:j(()=>[e("div",xe,[e("div",be,[e("ul",{ref:(i,o)=>{o.scollBox=i,n.value=i}},Me,512)]),f(h,{loading:v.value,color:"linear-gradient(to right, #ff6034, #ee0a24)",onClick:p},{default:j(()=>[Ve]),_:1},8,["loading"])])]),_:1})]),_:1},8,["active"])])}}});var Ue=A(Ne,[["__scopeId","data-v-42c814fd"]]);const qe=t=>(M("data-v-93ec0d84"),t=t(),V(),t),ze={key:0,class:"history"},Pe=qe(()=>e("div",{class:"title"},"\u5386\u53F2",-1)),Re=["onClick"],We=E({emits:["tabSwitch"],setup(t,{emit:a}){const n=R(),v=_([]);n.commit("getHistoryList");const u=K(()=>n.state.historyList),p=async()=>{const{result:{hots:l}}=await ge();v.value=l},y=l=>{a("tabSwitch",l)},$=()=>{n.commit("deHistoryList")};return p(),(l,h)=>{const m=q;return c(),d(k,null,[B(" \u5386\u53F2 "),te(u).length>0?(c(),d("div",ze,[Pe,e("ul",null,[(c(!0),d(k,null,D(te(u),i=>(c(),d("li",{onClick:o=>a("tabSwitch",i.value)},C(i.value),9,Re))),256)),f(m,{name:"delete-o",onClick:$})])])):B("v-if",!0),B(" \u699C\u5355\u5207\u6362 "),f(Ue,{onJump:y,hot:v.value},null,8,["hot"])],64)}}});var Je=A(We,[["__scopeId","data-v-93ec0d84"]]);const Y=t=>(M("data-v-8d5574c2"),t=t(),V(),t),Ke={class:"animt"},Ye={class:"song"},Ge=I(" \u5355\u66F2 "),Oe=I("\u64AD\u653E"),Qe=["onClick"],Xe={class:"left"},Ze={class:"songname"},es={class:"arname"},ss={class:"playList"},ts=Y(()=>e("h2",null,"\u6B4C\u5355",-1)),ns={class:"rightbox"},os={class:"text"},ls={class:"loding"},as=Y(()=>e("img",{src:U,alt:""},null,-1)),us=Y(()=>e("span",null,"\u6B63\u5728\u52A0\u8F7D...",-1)),cs=[as,us],is=E({props:{songList:{type:null,required:!0},playList:{type:null,required:!0},new_mlog:{type:null,required:!0}},setup(t){const a=t,n=z(),v=R(),u=_(!1),p=K(()=>v.state.audio.currentPlay);P(()=>a.songList,()=>{u.value=!0},{deep:!0});const y=l=>{n.push({path:"play",query:{id:l}})},$=l=>{const h=p.value.findIndex(o=>Number(o.id)===Number(l.id)),m={name:l.name,songName:l.ar[0].name,picUrl:l.al.picUrl,id:l.id},i=h===-1?m:h;v.commit(h===-1?"setCurrentPlay":"setIndex",i)};return(l,h)=>{const m=q,i=oe,o=le;return c(),d("div",Ke,[B(" \u5355\u66F2\u5217\u8868 "),x(e("div",Ye,[e("h2",null,[Ge,e("span",null,[f(m,{name:"play-circle-o"}),Oe])]),e("ul",null,[(c(!0),d(k,null,D(t.songList.songs,s=>(c(),d("li",{onClick:L=>y(s.id)},[e("div",Xe,[e("p",Ze,C(s.name),1),e("p",es,[f(i,{class:"svg",name:"wus",style:{"font-size":"20px"}}),I(C(s.ar[0].name)+"-"+C(s.al.name),1)])]),f(i,{class:"svg",name:"ms",style:{color:"#fc716d"},onClick:ne(L=>$(s),["stop"])},null,8,["onClick"])],8,Qe))),256))])],512),[[b,u.value]]),B(" \u6B4C\u5355\u5217\u8868 "),x(e("div",ss,[ts,e("ul",null,[(c(!0),d(k,null,D(t.playList.playLists,s=>(c(),d("li",null,[f(o,{url:s.coverImgUrl,size:"100",skeleton:""},null,8,["url"]),e("div",ns,[e("p",null,C(s.name),1),e("p",os,C(s.trackCount)+"\u9996,\u64AD\u653E"+C(s.playCount/1e4)+"\u4E07\u6B21 ",1)])]))),256))])],512),[[b,u.value]]),x(e("div",ls,cs,512),[[b,!u.value]])])}}});var rs=A(is,[["__scopeId","data-v-8d5574c2"]]);const W=t=>(M("data-v-4a8580e6"),t=t(),V(),t),_s=I(" \u5355\u66F2 "),ds=I("\u64AD\u653E"),vs=["onClick"],ps={class:"left"},hs={class:"songname"},ms={class:"arname"},gs={class:"loding"},ys=W(()=>e("img",{src:U,alt:""},null,-1)),fs=W(()=>e("span",null,"\u6B63\u5728\u52A0\u8F7D...",-1)),$s=[ys,fs],Cs={class:"lodings"},Ls=W(()=>e("img",{src:U,alt:""},null,-1)),ks=W(()=>e("span",null,"\u6B63\u5728\u52A0\u8F7D...",-1)),Fs=[Ls,ks],xs=E({props:{currensongList:{type:Array,default:()=>[]}},emits:["loadMore"],setup(t,{emit:a}){const n=t,v=z(),u=R(),p=_(),y=_(!1),$=_(!1),l=K(()=>u.state.audio.currentPlay),h=()=>{const o=p.value.scrollHeight,s=p.value.clientHeight,L=p.value.scrollTop;if(n.currensongList.length+30>=120){ve({type:"warning",message:"\u6CA1\u6709\u66F4\u591A\u54AF"});return}o-s-L<=5&&($.value=!0,a("loadMore",n.currensongList.length+30))};P(()=>n.currensongList,()=>{y.value=!0,$.value=!1},{deep:!0});const m=o=>{v.push({path:"play",query:{id:o}})},i=o=>{const s=l.value.findIndex(g=>g.id===o.id),L={name:o.name,songName:o.artists[0].name,picUrl:o.album.picUrl,id:o.id},r=s===-1?L:s;u.commit(s===-1?"setCurrentPlay":"setIndex",r)};return(o,s)=>{const L=q,r=oe;return c(),d(k,null,[x(e("div",{class:"animt",ref:(g,S)=>{S.cord=g,p.value=g}},[e("div",{class:"cord",onTouchend:s[0]||(s[0]=g=>h())},[e("h2",null,[_s,e("span",null,[f(L,{name:"play-circle-o"}),ds])]),e("ul",null,[(c(!0),d(k,null,D(t.currensongList,g=>(c(),d("li",{onClick:S=>m(g.id)},[e("div",ps,[e("p",hs,C(g.name),1),e("p",ms,[f(r,{class:"svg",name:"wus",style:{"font-size":"20px"}}),I(C(g.artists[0].name)+"-"+C(g.album.name),1)])]),f(r,{class:"svg",name:"ms",style:{color:"#fc716d"},onClick:ne(S=>i(g),["stop"])},null,8,["onClick"])],8,vs))),256)),x(e("div",gs,$s,512),[[b,$.value&&t.currensongList.length]])])],32)],512),[[b,y.value]]),x(e("div",Cs,Fs,512),[[b,!y.value]])],64)}}});var bs=A(xs,[["__scopeId","data-v-4a8580e6"]]);const J=t=>(M("data-v-18741315"),t=t(),V(),t),ws=["onClick"],Bs={class:"info"},Ss={class:"songname"},Ds={class:"artistsname"},Is={class:"loding"},Es=J(()=>e("img",{src:U,alt:""},null,-1)),As=J(()=>e("span",null,"\u6B63\u5728\u52A0\u8F7D...",-1)),js=[Es,As],Hs={class:"lodings"},Ts=J(()=>e("img",{src:U,alt:""},null,-1)),Ms=J(()=>e("span",null,"\u6B63\u5728\u52A0\u8F7D...",-1)),Vs=[Ts,Ms],Ns=E({props:{currenplayList:{type:Array,default:()=>[]}},emits:["loadMore"],setup(t,{emit:a}){const n=t,v=z(),u=_(),p=_(!1),y=_(!1),$=()=>{const h=u.value.scrollHeight,m=u.value.clientHeight,i=u.value.scrollTop;m+i>=h&&(y.value=!0,a("loadMore",n.currenplayList.length+30))},l=h=>{v.push({path:"/song",query:{id:h.id}})};return P(()=>n.currenplayList,()=>{p.value=!0,y.value=!1},{deep:!0}),(h,m)=>{const i=le;return c(),d(k,null,[x(e("div",{class:"animt",ref:(o,s)=>{s.cord=o,u.value=o}},[e("div",{class:"cord",onTouchend:m[0]||(m[0]=o=>$())},[e("ul",null,[(c(!0),d(k,null,D(t.currenplayList,o=>(c(),d("li",{onClick:s=>l(o)},[f(i,{url:o.coverImgUrl,size:"100",skeleton:""},null,8,["url"]),e("div",Bs,[e("p",Ss,C(o.name),1),e("p",Ds,C(o.trackCount)+"\u9996,by "+C(o.creator.nickname)+",\u64AD\u653E"+C((o.playCount/1e4).toFixed(1))+"\u4E07\u6B21\u64AD\u653E ",1)])],8,ws))),256)),x(e("div",Is,js,512),[[b,y.value&&t.currenplayList.length]])])],32)],512),[[b,p.value]]),x(e("div",Hs,Vs,512),[[b,!p.value]])],64)}}});var Us=A(Ns,[["__scopeId","data-v-18741315"]]);const qs=E({props:{keyword:{type:String,default:""}},setup(t){const a=t,n=_("\u7EFC\u5408"),v=_(),u=_(),p=_({}),y=_({}),$=_({}),l=_({}),h=[{name:"\u7EFC\u5408",type:1018},{name:"\u5355\u66F2",type:1},{name:"\u6B4C\u5355",type:1e3},{name:"\u4E13\u8F91",type:10},{name:"\u6B4C\u8BCD",type:1006},{name:"MV",type:1004}],m=async i=>{var L,r,g,S,H,F,T;const o=h.filter(ae=>ae.name===n.value),s=await ye(a.keyword,o[0].type,i);o[0].name==="\u7EFC\u5408"?(p.value=(L=s==null?void 0:s.result)==null?void 0:L.song,y.value=(r=s==null?void 0:s.result)==null?void 0:r.new_mlog,$.value=(g=s==null?void 0:s.result)==null?void 0:g.playList,l.value=(S=s==null?void 0:s.result)==null?void 0:S.album):o[0].name==="\u5355\u66F2"?v.value=(H=s==null?void 0:s.result)==null?void 0:H.songs:o[0].name==="\u6B4C\u5355"&&(u.value=(F=s==null?void 0:s.result)==null?void 0:F.playlists,console.log((T=s==null?void 0:s.result)==null?void 0:T.playlists))};return P(n,()=>{m()},{immediate:!0}),(i,o)=>{const s=ee,L=se;return c(),N(L,{active:n.value,"onUpdate:active":o[0]||(o[0]=r=>n.value=r),swipeable:""},{default:j(()=>[(c(),d(k,null,D(h,r=>f(s,{title:r.name,name:r.name},{default:j(()=>[r.name==="\u7EFC\u5408"?(c(),N(rs,{key:0,songList:p.value,playList:$.value,new_mlog:y.value},null,8,["songList","playList","new_mlog"])):B("v-if",!0),r.name==="\u5355\u66F2"?(c(),N(bs,{key:1,currensongList:v.value,onLoadMore:m},null,8,["currensongList"])):B("v-if",!0),r.name==="\u6B4C\u5355"?(c(),N(Us,{key:2,currenplayList:u.value,onLoadMore:m},null,8,["currenplayList"])):B("v-if",!0)]),_:2},1032,["title","name"])),64))]),_:1},8,["active"])}}});var zs=A(qs,[["__scopeId","data-v-16bce70b"]]);const Ps={class:"animt-css3"},Rs={class:"search"},Ws={class:"searchMue"},Js=["onClick"],Ks=I(),Ys={name:"Search"};function Gs(t){const a=z(),n=_(""),v=_([]),u=_(!0),p=_(),y=R(),$=$e(),l=_(1);y.commit("getHistoryList"),pe(()=>{p.value.focus()});const h=()=>{const r={value:n.value,date:$.getTimeYMD};y.commit("setHistoryList",r),l.value=0},m=async()=>{var g;u.value=!0;const r=await fe(n.value);v.value=((g=r==null?void 0:r.result)==null?void 0:g.allMatch)||[]},i=r=>{u.value=!1,n.value=r,h()},o=()=>{u.value=!0,l.value=1},s=()=>{n.value?(n.value="",l.value=1):a.push("/")},L=r=>{u.value=!1,n.value=r,l.value=0};return(r,g)=>{const S=me,H=q;return c(),d("div",Ps,[B(" input\u6846 "),e("div",Rs,[f(S,{ref:(F,T)=>{T.search=F,p.value=F},modelValue:n.value,"onUpdate:modelValue":[g[0]||(g[0]=F=>n.value=F),m],onSearch:h,onFocus:o,autofocus:"",placeholder:"\u8BF7\u8F93\u5165\u641C\u7D22\u5173\u952E\u8BCD",clearable:!1},null,8,["modelValue"]),f(H,{name:n.value?"cross":"down",onClick:s},null,8,["name"]),x(e("div",Ws,[(c(!0),d(k,null,D(v.value,F=>(c(),d("p",{onClick:T=>i(F.keyword)},[f(H,{name:"search"}),Ks,e("span",null,C(F.keyword),1)],8,Js))),256))],512),[[b,v.value.length&&u.value]])]),(c(),N(he(l.value?Je:zs),{onTabSwitch:L,keyword:n.value},null,8,["keyword"]))])}}const Os=E(X(Q({},Ys),{setup:Gs}));var ot=A(Os,[["__scopeId","data-v-4dfe48c5"]]);export{ot as default};
