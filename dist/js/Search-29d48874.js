import{J as e,K as l,L as a,N as t,r as n,O as s,i,Q as o,R as r,S as u,T as c,d,U as v,x as p,b as m,V as f,e as h,W as g,X as y,Y as b,Z as x,$ as k,a0 as w,a1 as C,a2 as L,c as _,a3 as I,a4 as S,a5 as B,a6 as T,a7 as z,a8 as R,a9 as $,aa as H,ab as j,o as A,ac as M,ad as N,ae as U,af as V,ag as W,ah as F,ai as O,aj as Z,ak as q,al as D,am as P,an as X,ao as J,ap as Y,aq as E,ar as G,z as K,A as Q,as as ee,at as le,B as ae,m as te,au as ne,av as se,f as ie,g as oe,w as re,h as ue,F as ce,l as de,t as ve,n as pe,G as me,H as fe,_ as he,u as ge,k as ye,aw as be,I as xe,a as ke,ax as we,q as Ce,s as Le,j as _e,ay as Ie,az as Se,aA as Be,aB as Te,D as ze}from"./index-f678d2ce.js";/* empty css              */import{S as Re,a as $e}from"./index-3e2b2a78.js";/* empty css              */import{B as He}from"./index-df442bcb.js";import{_ as je}from"./mss-283a8991.js";import{N as Ae}from"./index-e2dd9337.js";function Me(e,l){if(!i||!window.IntersectionObserver)return;const a=new IntersectionObserver((e=>{l(e[0].intersectionRatio>0)}),{root:document.body}),t=()=>{e.value&&a.unobserve(e.value)};o(t),r(t),u((()=>{e.value&&a.observe(e.value)}))}const[Ne,Ue]=c("sticky");const Ve=T(d({name:Ne,props:{zIndex:I,position:S("top"),container:Object,offsetTop:B(0),offsetBottom:B(0)},emits:["scroll","change"],setup(e,{emit:l,slots:t}){const s=n(),i=v(s),o=p({fixed:!1,width:0,height:0,transform:0}),r=n(!1),u=m((()=>f("top"===e.position?e.offsetTop:e.offsetBottom))),c=m((()=>{if(r.value)return;const{fixed:e,height:l,width:a}=o;return e?{width:`${a}px`,height:`${l}px`}:void 0})),d=m((()=>{if(!o.fixed||r.value)return;const l=h(g(e.zIndex),{width:`${o.width}px`,height:`${o.height}px`,[e.position]:`${u.value}px`});return o.transform&&(l.transform=`translate3d(0, ${o.transform}px, 0)`),l})),I=()=>{if(!s.value||x(s))return;const{container:t,position:n}=e,i=w(s),r=a(window);if(o.width=i.width,o.height=i.height,"top"===n)if(t){const e=w(t),l=e.bottom-u.value-o.height;o.fixed=u.value>i.top&&e.bottom>0,o.transform=l<0?l:0}else o.fixed=u.value>i.top;else{const{clientHeight:e}=document.documentElement;if(t){const l=w(t),a=e-l.top-u.value-o.height;o.fixed=e-u.value<i.bottom&&e>l.top,o.transform=a<0?-a:0}else o.fixed=e-u.value<i.bottom}(e=>{l("scroll",{scrollTop:e,isFixed:o.fixed})})(r)};return y((()=>o.fixed),(e=>l("change",e))),b("scroll",I,{target:i,passive:!0}),Me(s,I),y([C,L],(()=>{s.value&&!x(s)&&o.fixed&&(r.value=!0,k((()=>{const e=w(s);o.width=e.width,o.height=e.height,r.value=!1})))})),()=>{var e;return _("div",{ref:s,style:c.value},[_("div",{class:Ue({fixed:o.fixed&&!r.value}),style:d.value},[null==(e=t.default)?void 0:e.call(t)])])}}})),[We,Fe]=c("tabs");var Oe=d({name:We,props:{count:z(Number),inited:Boolean,animated:Boolean,duration:z(I),swipeable:Boolean,lazyRender:Boolean,currentIndex:z(Number)},emits:["change"],setup(e,{emit:l,slots:a}){const t=n(),s=e=>l("change",e),i=()=>{var l;const n=null==(l=a.default)?void 0:l.call(a);return e.animated||e.swipeable?_(Re,{ref:t,loop:!1,class:Fe("track"),duration:1e3*+e.duration,touchable:e.swipeable,lazyRender:e.lazyRender,showIndicators:!1,onChange:s},{default:()=>[n]}):n},o=l=>{const a=t.value;a&&a.state.active!==l&&a.swipeTo(l,{immediate:!e.inited})};return y((()=>e.currentIndex),o),R((()=>{o(e.currentIndex)})),$({swipeRef:t}),()=>_("div",{class:Fe("content",{animated:e.animated||e.swipeable})},[i()])}});const[Ze,qe]=c("tabs"),De={type:S("line"),color:String,border:Boolean,sticky:Boolean,shrink:Boolean,active:B(0),duration:B(.3),animated:Boolean,ellipsis:N,swipeable:Boolean,scrollspy:Boolean,offsetTop:B(0),background:String,lazyRender:N,showHeader:N,lineWidth:I,lineHeight:I,beforeChange:Function,swipeThreshold:B(5),titleActiveColor:String,titleInactiveColor:String},Pe=Symbol(Ze);var Xe=d({name:Ze,props:De,emits:["change","scroll","rendered","clickTab","update:active"],setup(i,{emit:o,slots:r}){let c,d,h,g,L;const I=n(),S=n(),B=n(),T=n(),z=H(),R=v(I),[N,D]=function(){const e=n([]),l=[];return s((()=>{e.value=[]})),[e,a=>(l[a]||(l[a]=l=>{e.value[a]=l}),l[a])]}(),{children:P,linkChildren:X}=j(Pe),J=p({inited:!1,position:"",lineStyle:{},currentIndex:-1}),Y=m((()=>P.length>+i.swipeThreshold||!i.ellipsis||i.shrink)),E=m((()=>({borderColor:i.color,background:i.background}))),G=(e,l)=>{var a;return null!=(a=e.name)?a:l},K=m((()=>{const e=P[J.currentIndex];if(e)return G(e,J.currentIndex)})),Q=m((()=>f(i.offsetTop))),ee=m((()=>i.sticky?Q.value+c:0)),le=a=>{const t=S.value,n=N.value;if(!(Y.value&&t&&n&&n[J.currentIndex]))return;const s=n[J.currentIndex].$el,o=s.offsetLeft-(t.offsetWidth-s.offsetWidth)/2;g&&g(),g=function(a,t,n){let s,i=0;const o=a.scrollLeft,r=0===n?1:Math.round(1e3*n/16);return function e(){a.scrollLeft+=(t-o)/r,++i<r&&(s=l(e))}(),function(){e(s)}}(t,o,a?0:+i.duration)},ae=()=>{const e=J.inited;k((()=>{const l=N.value;if(!l||!l[J.currentIndex]||"line"!==i.type||x(I.value))return;const a=l[J.currentIndex].$el,{lineWidth:t,lineHeight:n}=i,s=a.offsetLeft+a.offsetWidth/2,o={width:U(t),backgroundColor:i.color,transform:`translateX(${s}px) translateX(-50%)`};if(e&&(o.transitionDuration=`${i.duration}s`),V(n)){const e=U(n);o.height=e,o.borderRadius=e}J.lineStyle=o}))},te=(e,l)=>{const a=(e=>{const l=e<J.currentIndex?-1:1;for(;e>=0&&e<P.length;){if(!P[e].disabled)return e;e+=l}})(e);if(!V(a))return;const t=P[a],n=G(t,a),s=null!==J.currentIndex;J.currentIndex!==a&&(J.currentIndex=a,l||le(),ae()),n!==i.active&&(o("update:active",n),s&&o("change",n,t.title)),h&&!i.scrollspy&&F(Math.ceil(O(I.value)-Q.value))},ne=(e,l)=>{const a=P.find(((l,a)=>G(l,a)===e)),t=a?P.indexOf(a):0;te(t,l)},se=(n=!1)=>{if(i.scrollspy){const s=P[J.currentIndex].$el;if(s&&R.value){const o=O(s,R.value)-ee.value;d=!0,L&&L(),L=function(n,s,i,o){let r,u=a(n);const c=u<s,d=0===i?1:Math.round(1e3*i/16),v=(s-u)/d;return function e(){u+=v,(c&&u>s||!c&&u<s)&&(u=s),t(n,u),c&&u<s||!c&&u>s?r=l(e):o&&(r=l(o))}(),function(){e(r)}}(R.value,o,n?0:+i.duration,(()=>{d=!1}))}}},ie=(e,l,a)=>{const{title:t,disabled:n}=P[l],s=G(P[l],l);n||(Z(i.beforeChange,{args:[s],done:()=>{te(l),se()}}),q(e)),o("clickTab",{name:s,title:t,event:a,disabled:n})},oe=e=>{h=e.isFixed,o("scroll",e)},re=()=>{if("line"===i.type&&P.length)return _("div",{class:qe("line"),style:J.lineStyle},null)},ue=()=>{var e,l,a;const{type:t,border:n,sticky:s}=i,o=[_("div",{ref:s?void 0:B,class:[qe("wrap"),{[W]:"line"===t&&n}]},[_("div",{ref:S,role:"tablist",class:qe("nav",[t,{shrink:i.shrink,complete:Y.value}]),style:E.value,"aria-orientation":"horizontal"},[null==(e=r["nav-left"])?void 0:e.call(r),P.map((e=>e.renderTitle(ie))),re(),null==(l=r["nav-right"])?void 0:l.call(r)])]),null==(a=r["nav-bottom"])?void 0:a.call(r)];return s?_("div",{ref:B},[o]):o},ce=()=>{ae(),k((()=>{var e,l;le(!0),null==(l=null==(e=T.value)?void 0:e.swipeRef.value)||l.resize()}))};y((()=>[i.color,i.duration,i.lineWidth,i.lineHeight]),ae),y(C,ce),y((()=>i.active),(e=>{e!==K.value&&ne(e)})),y((()=>P.length),(()=>{J.inited&&(ne(i.active),ae(),k((()=>{le(!0)})))}));return $({resize:ce,scrollTo:e=>{k((()=>{ne(e),se(!0)}))}}),A(ae),M(ae),u((()=>{ne(i.active,!0),k((()=>{J.inited=!0,B.value&&(c=w(B.value).height),le(!0)}))})),Me(I,ae),b("scroll",(()=>{if(i.scrollspy&&!d){const e=(()=>{for(let e=0;e<P.length;e++){const{top:l}=w(P[e].$el);if(l>ee.value)return 0===e?0:e-1}return P.length-1})();te(e)}}),{target:R,passive:!0}),X({id:z,props:i,setLine:ae,scrollable:Y,onRendered:(e,l)=>o("rendered",e,l),currentName:K,setTitleRefs:D,scrollIntoView:le}),()=>_("div",{ref:I,class:qe([i.type])},[i.showHeader?i.sticky?_(Ve,{container:I.value,offsetTop:Q.value,onScroll:oe},{default:()=>[ue()]}):ue():null,_(Oe,{ref:T,count:P.length,inited:J.inited,animated:i.animated,duration:i.duration,swipeable:i.swipeable,lazyRender:i.lazyRender,currentIndex:J.currentIndex,onChange:te},{default:()=>{var e;return[null==(e=r.default)?void 0:e.call(r)]}})])}});const Je=Symbol(),[Ye,Ee]=c("tab"),Ge=d({name:Ye,props:{id:String,dot:Boolean,type:String,color:String,title:String,badge:I,shrink:Boolean,isActive:Boolean,disabled:Boolean,controls:String,scrollable:Boolean,activeColor:String,inactiveColor:String,showZeroBadge:N},setup(e,{slots:l}){const a=m((()=>{const l={},{type:a,color:t,disabled:n,isActive:s,activeColor:i,inactiveColor:o}=e;t&&"card"===a&&(l.borderColor=t,n||(s?l.backgroundColor=t:l.color=t));const r=s?i:o;return r&&(l.color=r),l})),t=()=>{const a=_("span",{class:Ee("text",{ellipsis:!e.scrollable})},[l.title?l.title():e.title]);return e.dot||V(e.badge)&&""!==e.badge?_(D,{dot:e.dot,content:e.badge,showZero:e.showZeroBadge},{default:()=>[a]}):a};return()=>_("div",{id:e.id,role:"tab",class:[Ee([e.type,{grow:e.scrollable&&!e.shrink,shrink:e.shrink,active:e.isActive,disabled:e.disabled}])],style:a.value,tabindex:e.disabled?void 0:e.isActive?0:-1,"aria-selected":e.isActive,"aria-disabled":e.disabled||void 0,"aria-controls":e.controls},[t()])}}),[Ke,Qe]=c("tab");const el=T(d({name:Ke,props:h({},P,{dot:Boolean,name:I,badge:I,title:String,disabled:Boolean,titleClass:X,titleStyle:[String,Object],showZeroBadge:N}),setup(e,{slots:l}){const a=H(),t=n(!1),s=se(),{parent:i,index:o}=J(Pe);if(!i)return;const r=()=>{var l;return null!=(l=e.name)?l:o.value},u=m((()=>{const l=r()===i.currentName.value;return l&&!t.value&&(t.value=!0,i.props.lazyRender&&k((()=>{i.onRendered(r(),e.title)}))),l})),c=n(""),d=n("");Y((()=>{const{titleClass:l,titleStyle:a}=e;c.value=l?ee(l):"",d.value=a&&"string"!=typeof a?le(ae(a)):a}));const v=n(!u.value);return y(u,(e=>{e?v.value=!1:E((()=>{v.value=!0}))})),y((()=>e.title),(()=>{i.setLine(),i.scrollIntoView()})),G(Je,u),$({id:a,renderTitle:t=>_(Ge,te({key:a,id:`${i.id}-${o.value}`,ref:i.setTitleRefs(o.value),style:d.value,class:c.value,isActive:u.value,controls:a,scrollable:i.scrollable.value,activeColor:i.props.titleActiveColor,inactiveColor:i.props.titleInactiveColor,onClick:e=>t(s.proxy,o.value,e)},ne(i.props,["type","color","shrink"]),ne(e,["dot","badge","title","disabled","showZeroBadge"])),{title:l.title})}),()=>{var e;const n=`${i.id}-${o.value}`,{animated:s,swipeable:r,scrollspy:c,lazyRender:d}=i.props;if(!l.default&&!s)return;const p=c||u.value;if(s||r)return _($e,{id:a,role:"tabpanel",class:Qe("panel-wrapper",{inactive:v.value}),tabindex:u.value?0:-1,"aria-hidden":!u.value,"aria-labelledby":n},{default:()=>{var e;return[_("div",{class:Qe("panel")},[null==(e=l.default)?void 0:e.call(l)])]}});const m=t.value||c||!d?null==(e=l.default)?void 0:e.call(l):null;return K(_("div",{id:a,role:"tabpanel",class:Qe("panel"),tabindex:p?0:-1,"aria-labelledby":n},[m]),[[Q,p]])}}})),ll=T(Xe),al=e=>(me("data-v-9d5510c2"),e=e(),fe(),e),tl={class:"ranklist"},nl={class:"randombox"},sl={class:"list"},il=["onClick"],ol={class:"randombox"},rl={class:"random"},ul=[al((()=>ue("li",null,"歌曲",-1))),al((()=>ue("li",null,"歌曲",-1))),al((()=>ue("li",null,"歌曲",-1))),al((()=>ue("li",null,"歌曲",-1))),al((()=>ue("li",null,"歌曲",-1))),al((()=>ue("li",null,"歌曲",-1))),al((()=>ue("li",null,"歌曲",-1))),al((()=>ue("li",null,"歌曲",-1))),al((()=>ue("li",null,"歌曲",-1))),al((()=>ue("li",null,"歌曲",-1)))],cl=he(d({__name:"ranDomSong",props:{hot:{type:Array,default:()=>[]}},emits:["jump"],setup(e,{emit:l}){const a=n(),t=n(!1),s=n("es"),i=l,o=()=>{t.value||(t.value=!0,a.value.classList.add("ani"),setTimeout((()=>{a.value.classList.remove("ani"),t.value=!1}),3e3))};return(l,n)=>{const r=el,u=He,c=ll;return ie(),oe("div",tl,[_(c,{active:s.value,"onUpdate:active":n[0]||(n[0]=e=>s.value=e)},{default:re((()=>[_(r,{title:"热搜榜"},{default:re((()=>[ue("div",nl,[ue("ul",sl,[(ie(!0),oe(ce,null,de(e.hot,((e,l)=>(ie(),oe("li",{onClick:l=>i("jump",e.first)},[ue("span",{style:ae({color:l<3?"#e71c34":"#b3afaf"}),class:"index"},ve(l+1),5),ue("span",{style:ae({color:l<3?"#000":"#b3afaf"})},ve(e.first),5)],8,il)))),256))])])])),_:1}),_(r,{title:"随机榜"},{default:re((()=>[ue("div",ol,[ue("div",rl,[ue("ul",{ref_key:"scollBox",ref:a},ul,512)]),_(u,{loading:t.value,color:"linear-gradient(to right, #ff6034, #ee0a24)",onClick:o},{default:re((()=>[pe(" 开始 ")])),_:1},8,["loading"])])])),_:1})])),_:1},8,["active"])])}}}),[["__scopeId","data-v-9d5510c2"]]),dl={key:0,class:"history"},vl=(e=>(me("data-v-ee9d2792"),e=e(),fe(),e))((()=>ue("div",{class:"title"},"历史",-1))),pl=["onClick"],ml=he(d({__name:"SeachHome",emits:["tabSwitch"],setup(e,{emit:l}){const a=ge(),t=n([]);a.commit("getHistoryList");const s=m((()=>a.state.historyList)),i=l,o=e=>{i("tabSwitch",e)},r=()=>{a.commit("deHistoryList")};return(async()=>{const{result:{hots:e}}=await be();t.value=e})(),(e,l)=>{const a=xe;return ie(),oe(ce,null,[s.value.length>0?(ie(),oe("div",dl,[vl,ue("ul",null,[(ie(!0),oe(ce,null,de(s.value,(e=>(ie(),oe("li",{onClick:l=>i("tabSwitch",e.value)},ve(e.value),9,pl)))),256)),_(a,{name:"delete-o",onClick:r})])])):ye("",!0),_(cl,{onJump:o,hot:t.value},null,8,["hot"])],64)}}}),[["__scopeId","data-v-ee9d2792"]]),fl=e=>(me("data-v-82dfa094"),e=e(),fe(),e),hl={class:"animt"},gl={class:"song"},yl=["onClick"],bl={class:"left"},xl={class:"songname"},kl={class:"arname"},wl={class:"playList"},Cl=fl((()=>ue("h2",null,"歌单",-1))),Ll={class:"rightbox"},_l={class:"text"},Il={class:"loding"},Sl=[fl((()=>ue("img",{src:je,alt:""},null,-1))),fl((()=>ue("span",null,"正在加载...",-1)))],Bl=he(d({__name:"Comprehensive",props:{songList:{},playList:{},new_mlog:{}},setup(e){const l=ke(),a=ge(),t=n(!1),s=m((()=>a.state.audio.currentPlay)),i=e;y((()=>i.songList),(()=>{t.value=!0}),{deep:!0});return(e,n)=>{const i=xe,o=Ce,r=Le;return ie(),oe("div",hl,[K(ue("div",gl,[ue("h2",null,[pe(" 单曲 "),ue("span",null,[_(i,{name:"play-circle-o"}),pe(" 播放 ")])]),ue("ul",null,[(ie(!0),oe(ce,null,de(e.songList.songs,(e=>(ie(),oe("li",{onClick:a=>{return t=e.id,void l.push({path:"play",query:{id:t}});var t}},[ue("div",bl,[ue("p",xl,ve(e.name),1),ue("p",kl,[_(o,{class:"svg",name:"wus",style:{"font-size":"20px"}}),pe(" "+ve(e.ar[0].name)+"-"+ve(e.al.name),1)])]),_(o,{class:"svg",name:"ms",style:{color:"#fc716d"},onClick:we((l=>(e=>{const l=s.value.findIndex((l=>Number(l.id)===Number(e.id))),t={name:e.name,songName:e.ar[0].name,picUrl:e.al.picUrl,id:e.id},n=-1===l?t:l;a.commit(-1===l?"setCurrentPlay":"setIndex",n)})(e)),["stop"])},null,8,["onClick"])],8,yl)))),256))])],512),[[Q,t.value]]),K(ue("div",wl,[Cl,ue("ul",null,[(ie(!0),oe(ce,null,de(e.playList.playLists,(e=>(ie(),oe("li",null,[_(r,{url:e.coverImgUrl,size:"100",skeleton:""},null,8,["url"]),ue("div",Ll,[ue("p",null,ve(e.name),1),ue("p",_l,ve(e.trackCount)+"首,播放"+ve(e.playCount/1e4)+"万次 ",1)])])))),256))])],512),[[Q,t.value]]),K(ue("div",Il,Sl,512),[[Q,!t.value]])])}}}),[["__scopeId","data-v-82dfa094"]]),Tl=e=>(me("data-v-697615e2"),e=e(),fe(),e),zl=["onClick"],Rl={class:"left"},$l={class:"songname"},Hl={class:"arname"},jl={class:"loding"},Al=[Tl((()=>ue("img",{src:je,alt:""},null,-1))),Tl((()=>ue("span",null,"正在加载...",-1)))],Ml={class:"lodings"},Nl=[Tl((()=>ue("img",{src:je,alt:""},null,-1))),Tl((()=>ue("span",null,"正在加载...",-1)))],Ul=he(d({__name:"Single",props:{currensongList:{type:Array,default:()=>[]}},emits:["loadMore"],setup(e,{emit:l}){const a=ke(),t=ge(),s=n(),i=l,o=n(!1),r=n(!1),u=m((()=>t.state.audio.currentPlay)),c=e;y((()=>c.currensongList),(()=>{o.value=!0,r.value=!1}),{deep:!0});return(l,n)=>{const d=xe,v=Ce;return ie(),oe(ce,null,[K(ue("div",{class:"animt",ref_key:"cord",ref:s},[ue("div",{class:"cord",onTouchend:n[0]||(n[0]=e=>(()=>{const e=s.value.scrollHeight,l=s.value.clientHeight,a=s.value.scrollTop;c.currensongList.length+30>=120?Ae({type:"warning",message:"没有更多咯"}):e-l-a<=5&&(r.value=!0,i("loadMore",c.currensongList.length+30))})())},[ue("h2",null,[pe(" 单曲 "),ue("span",null,[_(d,{name:"play-circle-o"}),pe(" 播放 ")])]),ue("ul",null,[(ie(!0),oe(ce,null,de(e.currensongList,(e=>(ie(),oe("li",{onClick:l=>{return t=e.id,void a.push({path:"play",query:{id:t}});var t}},[ue("div",Rl,[ue("p",$l,ve(e.name),1),ue("p",Hl,[_(v,{class:"svg",name:"wus",style:{"font-size":"20px"}}),pe(" "+ve(e.artists[0].name)+"-"+ve(e.album.name),1)])]),_(v,{class:"svg",name:"ms",style:{color:"#fc716d"},onClick:we((l=>(e=>{const l=u.value.findIndex((l=>l.id===e.id)),a={name:e.name,songName:e.artists[0].name,picUrl:e.album.picUrl,id:e.id},n=-1===l?a:l;t.commit(-1===l?"setCurrentPlay":"setIndex",n)})(e)),["stop"])},null,8,["onClick"])],8,zl)))),256)),K(ue("div",jl,Al,512),[[Q,r.value&&e.currensongList.length]])])],32)],512),[[Q,o.value]]),K(ue("div",Ml,Nl,512),[[Q,!o.value]])],64)}}}),[["__scopeId","data-v-697615e2"]]),Vl=e=>(me("data-v-a5f87c34"),e=e(),fe(),e),Wl=["onClick"],Fl={class:"info"},Ol={class:"songname"},Zl={class:"artistsname"},ql={class:"loding"},Dl=[Vl((()=>ue("img",{src:je,alt:""},null,-1))),Vl((()=>ue("span",null,"正在加载...",-1)))],Pl={class:"lodings"},Xl=[Vl((()=>ue("img",{src:je,alt:""},null,-1))),Vl((()=>ue("span",null,"正在加载...",-1)))],Jl=he(d({__name:"SongSheet",props:{currenplayList:{type:Array,default:()=>[]}},emits:["loadMore"],setup(e,{emit:l}){const a=ke(),t=n(),s=l,i=n(!1),o=n(!1),r=e;return y((()=>r.currenplayList),(()=>{i.value=!0,o.value=!1}),{deep:!0}),(l,n)=>{const u=Le;return ie(),oe(ce,null,[K(ue("div",{class:"animt",ref_key:"cord",ref:t},[ue("div",{class:"cord",onTouchend:n[0]||(n[0]=e=>(()=>{const e=t.value.scrollHeight;t.value.clientHeight+t.value.scrollTop>=e&&(o.value=!0,s("loadMore",r.currenplayList.length+30))})())},[ue("ul",null,[(ie(!0),oe(ce,null,de(e.currenplayList,(e=>(ie(),oe("li",{onClick:l=>(e=>{a.push({path:"/song",query:{id:e.id}})})(e)},[_(u,{url:e.coverImgUrl,size:"100",skeleton:""},null,8,["url"]),ue("div",Fl,[ue("p",Ol,ve(e.name),1),ue("p",Zl,ve(e.trackCount)+"首,by "+ve(e.creator.nickname)+",播放"+ve((e.playCount/1e4).toFixed(1))+"万次播放 ",1)])],8,Wl)))),256)),K(ue("div",ql,Dl,512),[[Q,o.value&&e.currenplayList.length]])])],32)],512),[[Q,i.value]]),K(ue("div",Pl,Xl,512),[[Q,!i.value]])],64)}}}),[["__scopeId","data-v-a5f87c34"]]),Yl=he(d({__name:"SearchTabs",props:{keyword:{type:String,default:""}},setup(e){const l=n("综合"),a=n(),t=n(),s=n({}),i=n({}),o=n({}),r=n({}),u=[{name:"综合",type:1018},{name:"单曲",type:1},{name:"歌单",type:1e3},{name:"专辑",type:10},{name:"歌词",type:1006},{name:"MV",type:1004}],c=e,d=async e=>{var n,d,v,p,m,f;const h=u.filter((e=>e.name===l.value)),g=await Ie(c.keyword,h[0].type,e);"综合"===h[0].name?(s.value=null==(n=null==g?void 0:g.result)?void 0:n.song,i.value=null==(d=null==g?void 0:g.result)?void 0:d.new_mlog,o.value=null==(v=null==g?void 0:g.result)?void 0:v.playList,r.value=null==(p=null==g?void 0:g.result)?void 0:p.album):"单曲"===h[0].name?a.value=null==(m=null==g?void 0:g.result)?void 0:m.songs:"歌单"===h[0].name&&(t.value=null==(f=null==g?void 0:g.result)?void 0:f.playlists)};return y(l,(()=>{d()}),{immediate:!0}),(e,n)=>{const r=el,c=ll;return ie(),_e(c,{active:l.value,"onUpdate:active":n[0]||(n[0]=e=>l.value=e),swipeable:""},{default:re((()=>[(ie(),oe(ce,null,de(u,(e=>_(r,{title:e.name,name:e.name},{default:re((()=>["综合"===e.name?(ie(),_e(Bl,{key:0,songList:s.value,playList:o.value,new_mlog:i.value},null,8,["songList","playList","new_mlog"])):ye("",!0),"单曲"===e.name?(ie(),_e(Ul,{key:1,currensongList:a.value,onLoadMore:d},null,8,["currensongList"])):ye("",!0),"歌单"===e.name?(ie(),_e(Jl,{key:2,currenplayList:t.value,onLoadMore:d},null,8,["currenplayList"])):ye("",!0)])),_:2},1032,["title","name"]))),64))])),_:1},8,["active"])}}}),[["__scopeId","data-v-7e61d02c"]]),El={class:"animt-css3"},Gl={class:"search"},Kl={class:"searchMue"},Ql=["onClick"],ea=he(d({name:"Search",setup(e){const l=ke(),a=n(""),t=n([]),s=n(!0),i=n(),o=ge(),r=ze(),u=n(1);o.commit("getHistoryList"),R((()=>{i.value.focus()}));const c=()=>{const e={value:a.value,date:r.getTimeYMD};o.commit("setHistoryList",e),u.value=0},d=async()=>{var e;s.value=!0;const l=await Be(a.value);t.value=(null==(e=null==l?void 0:l.result)?void 0:e.allMatch)||[]},v=()=>{s.value=!0,u.value=1},p=()=>{a.value?(a.value="",u.value=1):l.push("/")},m=e=>{s.value=!1,a.value=e,u.value=0};return(e,l)=>{const n=Te,o=xe;return ie(),oe("div",El,[ue("div",Gl,[_(n,{ref_key:"search",ref:i,modelValue:a.value,"onUpdate:modelValue":[l[0]||(l[0]=e=>a.value=e),d],onSearch:c,onFocus:v,autofocus:"",placeholder:"请输入搜索关键词",clearable:!1},null,8,["modelValue"]),_(o,{name:a.value?"cross":"down",onClick:p},null,8,["name"]),K(ue("div",Kl,[(ie(!0),oe(ce,null,de(t.value,(e=>(ie(),oe("p",{onClick:l=>{return t=e.keyword,s.value=!1,a.value=t,void c();var t}},[_(o,{name:"search"}),ue("span",null,ve(e.keyword),1)],8,Ql)))),256))],512),[[Q,t.value.length&&s.value]])]),(ie(),_e(Se(u.value?ml:Yl),{onTabSwitch:m,keyword:a.value},null,40,["keyword"]))])}}}),[["__scopeId","data-v-a255d777"]]);export{ea as default};
