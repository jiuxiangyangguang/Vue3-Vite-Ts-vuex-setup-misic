import{e as l,i as a,c as n,m as e,d as s,r as o,u as t,a as i,b as u,o as c,f as r,g as m,h as d,j as v,k as p,t as f,F as y,l as h,n as g,w as x,p as w,q as k,s as C,P as b,M as j,I as B,v as z}from"./index-f678d2ce.js";/* empty css              */import{m as I,u as P}from"./mount-component-58a305a9.js";import{s as U}from"./index-b46ef06d.js";import"./index-df442bcb.js";let N;let O=l({},{title:"",width:"",theme:null,message:"",overlay:!0,callback:null,teleport:"body",className:"",allowHtml:!1,lockScroll:!0,transition:void 0,beforeClose:null,overlayClass:"",overlayStyle:void 0,messageAlign:"",cancelButtonText:"",cancelButtonColor:null,cancelButtonDisabled:!1,confirmButtonText:"",confirmButtonColor:null,confirmButtonDisabled:!1,showConfirmButton:!0,showCancelButton:!1,closeOnPopstate:!0,closeOnClickOverlay:!1});function S(s){return a?new Promise(((a,o)=>{N||function(){const l={setup(){const{state:l,toggle:a}=P();return()=>n(U,e(l,{"onUpdate:show":a}),null)}};({instance:N}=I(l))}(),N.open(l({},O,s,{callback:l=>{("confirm"===l?a:o)(l)}}))})):Promise.resolve(void 0)}const T={class:"my"},_={class:"jumptop"},A={class:"userName"},D={class:"imgbox"},L={class:"card"},M={class:"info"},q={class:"icon card"},E=d("p",{class:"add"},"+ 音乐应用",-1),F={class:"card liek"},H={class:"left-box"},G={class:"text"},J=d("p",null,"我喜欢的音乐",-1),K=s({__name:"My",setup(l){const a=o([{name:"最近播放",icon:"zjbf"},{name:"本地/下载",icon:"bdxz"},{name:"云盘",icon:"yp"},{name:"已购",icon:"yg"},{name:"我的好友",icon:"wdhy"},{name:"收藏和赞",icon:"schz"},{name:"我的博客",icon:"wdbk"},{name:"音乐罐子",icon:"yygz"}]),e=t(),s=i(),I=u((()=>e.state.userInfo.nickname)),P=u((()=>e.state.userInfo.uid)),U=u((()=>e.state.userInfo.isLogin)),N=u((()=>e.state.userInfo)),O=o(0),K=o([]),Q=o(!1),R=()=>{U.value?s.push("setup"):s.push("login")},V=async()=>{if(!U.value)return void S({message:"登录之后即可开启心动模式",confirmButtonText:"登录"}).then((()=>{s.push("login")})).catch((()=>{}));const l=K.value.join(","),a=await w({ids:l}),n=null==a?void 0:a.songs;e.commit("setCurrentPlayCle"),n.forEach((l=>{var a;e.commit("setCurrentPlay",{name:l.name,songName:null==(a=null==l?void 0:l.ar[0])?void 0:a.name,id:Number(l.id),picUrl:null==l?void 0:l.al.picUrl})}))};return c((()=>{Q.value=!1,U.value&&(async()=>{var l;const a=await z({uid:P.value});K.value=null==a?void 0:a.ids,O.value=null==(l=null==a?void 0:a.ids)?void 0:l.length,e.commit("setUserInfo",{name:"likeArr",data:null==a?void 0:a.ids})})()})),(l,e)=>{const s=k,o=B,t=C,i=b;return r(),m(y,null,[d("div",T,[d("div",_,[n(s,{name:"caidan",onClick:e[0]||(e[0]=l=>Q.value=!0),style:{fontSize:"20px",color:"#808080"}}),n(o,{name:"search"})]),d("div",A,[d("div",D,[U.value?p("",!0):(r(),v(s,{key:0,name:"sign"})),U.value?(r(),v(t,{key:1,url:N.value.picUrl},null,8,["url"])):p("",!0)]),d("div",L,[d("p",{class:"name",onClick:R},f(I.value),1),d("p",M,[d("span",null,f(N.value.follows)+"关注",1),d("span",null,f(N.value.followeds)+"粉丝",1),d("span",null,"Lv."+f(N.value.eventCount),1)])])]),d("div",q,[d("ul",null,[(r(!0),m(y,null,h(a.value,(l=>(r(),m("li",null,[n(s,{name:l.icon,style:{"font-size":"24px"}},null,8,["name"]),d("span",null,f(l.name),1)])))),256))]),E]),d("div",F,[d("div",H,[n(s,{name:"xd",style:{"font-size":"40px"}}),d("div",G,[J,d("p",null,f(O.value)+"首",1)])]),d("div",{class:"icon",onClick:V},[n(s,{name:"xxd",style:{"font-size":"16px"}}),g(" 心动模式 ")])])]),n(i,{show:Q.value,"onUpdate:show":e[1]||(e[1]=l=>Q.value=l),position:"left",style:{width:"70%",height:"100%"}},{default:x((()=>[n(j)])),_:1},8,["show"])],64)}}});export{K as default};
